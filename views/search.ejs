<!-- 

user info:

user_id,
user_fname,
user_lname,
user_email,
user_password (hashed)

-->
<div class="sidebar">
    <ul>
        <li><a class="nav-trans" href="#main">Home</a></li>
        <li><a class="nav-trans" href="#search">Search</a></li>
        <li><a class="nav-trans" href="#results">Results</a></li>
    </ul>
</div>
<section id="main" class="main" style="height: 410px; background: url('/images/birdbg.jpg'); background-size:cover; background-position:top">
    <div class="nav" style="position:relative;">
            <nav style="width:100%; height:65px; text-align:right; background: rgba(0,0,0,0.1);">
                    <h2 class="mt-3 ml-4" style="float:left;"><i class="fas fa-feather fa-1x"></i>    Birdhub</h2>
                    <div class="menu">
                    <ul>
                        <% if(loggedIn) { %>
                            <li><a href="/users/account" class="nav-trans">Account</a></li>
                            <li><a href="/users/logout" class="nav-trans">Logout</a></li>
                        <% } else { %>
                            <li><a href="/users/login" class="nav-trans">Login</a></li>
                        <% } %>
                    </ul>
                </div>
            </nav>
        </div>
    <h1 style="text-align:center; margin-top:40px; font-size:40px;">Home</h1>
    <p style="text-align:center; color:#606060; font-size:16px;">Welcome to BirdHub</p>        
</section>

<div id="search" class="container pt-4" style="width:100%; padding-bottom: 40px;">
<form action="/search" method="POST">
    <div class="container">
        <h4 class="mt-3 mb-4" style="text-align:center; font-size:30px;">- Search -</h4>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="exampleSelect2">Classification</label>
                <select class="form-control" id="classification" name ="classification"> <!-- name field defines name of JSON object attribute on POST request-->
                <option></option>
                    <% for(let i = 0; i < classification.length; i++) { %>
                    <option value='<%=classification[i]%>'> <%= classification[i] %></option>
                    <% } %>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="exampleSelect2">Subclass</label>
                <select class="form-control" id="subclass" name ="subclass"> <!-- name field defines name of JSON object attribute on POST request-->
                <option></option>
                    <% for(let i = 0; i < subclass.length; i++) { %>
                    <option value='<%=subclass[i]%>'> <%= subclass[i] %></option>
                    <% } %>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="exampleSelect2">Main Color</label>
                <select class="form-control" id="main-color" name ="main_color"> <!-- name field defines name of JSON object attribute on POST request-->
                <option></option>
                    <% for(let i = 0; i < color.length; i++) { %>
                    <option value='<%=color[i]%>'> <%= color[i] %></option>
                    <% } %>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="exampleSelect2">Size</label>
                <select class="form-control" id="size" name ="size" > <!-- name field defines name of JSON object attribute on POST request-->
                <option></option>
                    <% for(let i = 0; i < size.length; i++) { %>
                    <option value='<%=size[i]%>'> <%= size[i] %></option>
                    <% } %>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="exampleSelect2">Beak Color</label>
                <select class="form-control" id="beak-color" name ="beak_color"> <!-- name field defines name of JSON object attribute on POST request-->
                <option></option>
                    <% for(let i = 0; i < beak_color.length; i++) { %>
                    <option value='<%=beak_color[i]%>'> <%= beak_color[i] %></option>
                    <% } %>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="exampleSelect2">Beak Use</label>
                <select class="form-control" id="beak-use" name ="beak_use"> <!-- name field defines name of JSON object attribute on POST request-->
                <option></option>
                    <% for(let i = 0; i < beak.length; i++) { %>
                    <option value='<%=beak[i]%>'> <%= beak[i] %></option>
                    <% } %>
                </select>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="container col-md-6 col-sm-6 px-0">
                    <p>Color(s)</p>
                        <div class="form-group">
                            <div class="row1 col-md-12">
                                <div class="row">
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck1" value="1" name="black" unchecked="">
                                        <label class="custom-control-label" for="customCheck1">black</label>
                                    </div>
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck2" value="2" name="grey" unchecked="">
                                        <label class="custom-control-label" for="customCheck2">grey</label>
                                    </div>
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck3" value="3" name="white" unchecked="">
                                        <label class="custom-control-label" for="customCheck3">white</label>
                                    </div>
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck4" value="4" name="brown" unchecked="">
                                        <label class="custom-control-label" for="customCheck4">brown</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck5" value="5" name="red" unchecked="">
                                        <label class="custom-control-label" for="customCheck5">red</label>
                                    </div>
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck6" value="6" name="orange" unchecked="">
                                        <label class="custom-control-label" for="customCheck6">orange</label>
                                    </div>
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck7" value="7" name="yellow" unchecked="">
                                        <label class="custom-control-label" for="customCheck7">yellow</label>
                                    </div>
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck8" value="8" name="green" unchecked="">
                                        <label class="custom-control-label" for="customCheck8">green</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="custom-control custom-checkbox col-md-3">
                                        <input type="checkbox" class="custom-control-input" id="customCheck9" value="9" name="blue" unchecked="">
                                        <label class="custom-control-label" for="customCheck9">blue</label>
                                    </div>
                                    <div class="custom-control custom-checkbox col-md-3">
                                            <input type="checkbox" class="custom-control-input" id="customCheck10" value="10" name="purple" unchecked="">
                                            <label class="custom-control-label" for="customCheck10">purple</label>
                                        </div>
                                        <div class="custom-control custom-checkbox col-md-3">
                                            <input type="checkbox" class="custom-control-input" id="customCheck11" value="11" name="pink" unchecked="">
                                            <label class="custom-control-label" for="customCheck11">pink</label>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-6 pr-0">
                        <button type="submit" class="btn btn-primary btn-block mt-5" style="height:50px;">Search</button>
                    </div>
                </div>
            </div>
    </div>
</form>
</div>

<% if(searchResults) { %>
    <div id="results" class="results">
    <script type="text/javascript">

        $('html, body').animate({
            scrollTop: $("#results").offset().top
        }, 200, "linear");
    </script>

    <!-- results displayed here if there was a search -->
        <div class="container">
        <%if(searchResults.length == 0) { %>
        <div class="no-results">
            <h2 class="pt-4 pb-2" >No Results</h2>
            <p>Please try widening your search criteria.</p>
        </div>
        <% } else {%>
            <h2 class="pt-4 pb-2" style="text-align:center;">- Results -</h2>
        <% } %>
        <div class="row">
            <%for(let i = 0; i < searchResults.length; i = i+3) { %>
                <% if(searchResults[i]) { %>
                <div class="col1 col-md-4" data-aos="fade-up">
                    <div class="card text-black bg-secondary mb-3 px-0" style="height:400px;">
                        <div class="card-header"><%=searchResults[i].species %></div>
                        <div class="card-body">
                            <div class="image" style="height: 220px;">
                                <img src="/images/<%=searchResults[i].image%>" alt="image" style="max-height:220px; max-width:100%; display: block; margin-left: auto; margin-right:auto;">
                            </div>
                            <form action="/addSighting" method="POST">
                                <button type ="submit" name="sighting" value="<%=searchResults[i]._id%>" class="btn btn-primary btn-block" style="margin-top:35px;">Add sighting</button>
                            </form>
                        </div>
                    </div>
                </div>
                <% } %>
                <% if(searchResults[i+1]) { %>
                    <div class="col1 col-md-4" data-aos="fade-up">
                        <div class="card text-black bg-secondary mb-3 px-0" style="height:400px">
                            <div class="card-header"><%=searchResults[i+1].species %></div>
                            <div class="card-body">
                                <div class="image" style="height: 220px;">
                                    <img src="/images/<%=searchResults[i+1].image%>" alt="image" style="max-height:220px; max-width:100%; display: block; margin-left: auto; margin-right:auto;">
                                </div>
                                <form action="/addSighting" method="POST">
                                    <button type ="submit" name="sighting" value="<%=searchResults[i+1]._id%>" class="btn btn-primary btn-block" style="margin-top:35px;">Add sighting</button>
                                </form>
                            </div>
                        </div>
                    </div>
                <% } %>
                <% if(searchResults[i+2]) { %>
                    <div class="col1 col-md-4" data-aos="fade-up">
                        <div class="card text-black bg-secondary mb-3 px-0" style="height:400px">
                            <div class="card-header"><%=searchResults[i+2].species %></div>
                            <div class="card-body">
                                <div class="image" style="height: 220px;">
                                    <img src="/images/<%=searchResults[i+2].image%>" alt="image" style="max-height:220px; max-width:100%; display: block; margin-left: auto; margin-right:auto;">
                                </div>
                                <form action="/addSighting" method="POST">
                                    <button type ="submit" name="sighting" value="<%=searchResults[i+2]._id%>" class="btn btn-primary btn-block" style="margin-top:35px;">Add sighting</button>
                                </form>
                            </div>
                        </div>
                    </div>
                <% } %>
            <% } %>
        </div>
    </div>
<% } %>
</div>
